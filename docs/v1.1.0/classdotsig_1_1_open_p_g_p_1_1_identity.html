<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dotsig: dotsig::OpenPGP::Identity&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dotsig
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
   <div id="projectbrief">Sign a message or file with DSA and verify digital signatures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedotsig.html">dotsig</a></li><li class="navelem"><a class="el" href="namespacedotsig_1_1_open_p_g_p.html">OpenPGP</a></li><li class="navelem"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">Identity</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdotsig_1_1_open_p_g_p_1_1_identity-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dotsig::OpenPGP::Identity&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Template class for <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> identities that consist of a private/public keypair which may be generated using one of: RSA, DSA, <a class="el" href="namespacedotsig_1_1_e_c_d_s_a.html" title="Namespace that contains the ECDSA identities class template.">ECDSA</a> and EdDSA.  
 <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="openpgp_8h_source.html">openpgp.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dotsig::OpenPGP::Identity&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdotsig_1_1_open_p_g_p_1_1_identity.png" usemap="#dotsig::OpenPGP::Identity_3C_20PrivateKeyImpl_2C_20PublicKeyImpl_2C_20SubKeyImpl_20_3E_map" alt=""/>
  <map id="dotsig::OpenPGP::Identity_3C_20PrivateKeyImpl_2C_20PublicKeyImpl_2C_20SubKeyImpl_20_3E_map" name="dotsig::OpenPGP::Identity_3C_20PrivateKeyImpl_2C_20PublicKeyImpl_2C_20SubKeyImpl_20_3E_map">
<area href="classdotsig_1_1_i_identity.html" title="Interface for identities that consist of a private/public keypair." alt="dotsig::IIdentity" shape="rect" coords="651,0,1075,24"/>
<area href="classdotsig_1_1_open_p_g_p_1_1_d_s_a___identity.html" title="Class for OpenPGP identities using type DSA." alt="dotsig::OpenPGP::DSA_Identity" shape="rect" coords="0,112,424,136"/>
<area href="classdotsig_1_1_open_p_g_p_1_1_e_c_d_s_a___identity.html" title="Class for OpenPGP identities using type ECDSA." alt="dotsig::OpenPGP::ECDSA_Identity" shape="rect" coords="434,112,858,136"/>
<area href="classdotsig_1_1_open_p_g_p_1_1_ed_d_s_a___identity.html" title="Class for OpenPGP identities using type EdDSA (Ed25519)." alt="dotsig::OpenPGP::EdDSA_Identity" shape="rect" coords="868,112,1292,136"/>
<area href="classdotsig_1_1_open_p_g_p_1_1_r_s_a___identity.html" title="Class for OpenPGP identities using type RSA (PKCS1 v1.5)." alt="dotsig::OpenPGP::RSA_Identity" shape="rect" coords="1302,112,1726,136"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa0494d8e4e5ab52b12f595771887bdee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#aa0494d8e4e5ab52b12f595771887bdee">Identity</a> (const std::string &amp;scheme=&quot;PKCS1v15(SHA-256)&quot;)</td></tr>
<tr class="memdesc:aa0494d8e4e5ab52b12f595771887bdee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. Creates an empty <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> identity.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#aa0494d8e4e5ab52b12f595771887bdee">More...</a><br /></td></tr>
<tr class="separator:aa0494d8e4e5ab52b12f595771887bdee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f882932fcf832d41b60e7009eaa679"><td class="memItemLeft" align="right" valign="top"><a id="ab8f882932fcf832d41b60e7009eaa679"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ab8f882932fcf832d41b60e7009eaa679">Identity</a> (const <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">Identity</a> &amp;)</td></tr>
<tr class="memdesc:ab8f882932fcf832d41b60e7009eaa679"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. Creates an identity based on the other's private key. <br /></td></tr>
<tr class="separator:ab8f882932fcf832d41b60e7009eaa679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ffe51493e82449f878446e3a7bf85c"><td class="memItemLeft" align="right" valign="top"><a id="a23ffe51493e82449f878446e3a7bf85c"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a23ffe51493e82449f878446e3a7bf85c">~Identity</a> ()=default</td></tr>
<tr class="memdesc:a23ffe51493e82449f878446e3a7bf85c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default class destructor. <br /></td></tr>
<tr class="separator:a23ffe51493e82449f878446e3a7bf85c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64cb49082aceb3df2e099887c85abb1f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a64cb49082aceb3df2e099887c85abb1f">Import</a> (const std::string &amp;, const std::string &amp;) override</td></tr>
<tr class="memdesc:a64cb49082aceb3df2e099887c85abb1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an identity with file <em>filename</em> and pass <em>passphrase</em>.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a64cb49082aceb3df2e099887c85abb1f">More...</a><br /></td></tr>
<tr class="separator:a64cb49082aceb3df2e099887c85abb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c8c705f4f34188e302d59114167917"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ae1c8c705f4f34188e302d59114167917">Export</a> (const std::string &amp;, const std::string &amp;) const override</td></tr>
<tr class="memdesc:ae1c8c705f4f34188e302d59114167917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves an identity to file <em>filename</em> with password <em>passphrase</em>.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ae1c8c705f4f34188e302d59114167917">More...</a><br /></td></tr>
<tr class="separator:ae1c8c705f4f34188e302d59114167917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d1db8363ff162244104e482295f44d0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a0d1db8363ff162244104e482295f44d0">Sign</a> (const std::string &amp;, const std::string &amp;) const override</td></tr>
<tr class="memdesc:a0d1db8363ff162244104e482295f44d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signs a message <em>message</em> and saves the signature to <em>sig_file</em>.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a0d1db8363ff162244104e482295f44d0">More...</a><br /></td></tr>
<tr class="separator:a0d1db8363ff162244104e482295f44d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c1d443dde02c6503fc91541bc596e8a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a1c1d443dde02c6503fc91541bc596e8a">Verify</a> (const std::string &amp;, const std::string &amp;) const override</td></tr>
<tr class="memdesc:a1c1d443dde02c6503fc91541bc596e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies a signature <em>signature</em> for a message <em>message</em>.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a1c1d443dde02c6503fc91541bc596e8a">More...</a><br /></td></tr>
<tr class="separator:a1c1d443dde02c6503fc91541bc596e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b7af271e5db34cb7fb48b777ceed92"><td class="memItemLeft" align="right" valign="top"><a id="aa3b7af271e5db34cb7fb48b777ceed92"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#aa3b7af271e5db34cb7fb48b777ceed92">GenerateRandom</a> () override=0</td></tr>
<tr class="memdesc:aa3b7af271e5db34cb7fb48b777ceed92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a random pair of private- and public-key. <br /></td></tr>
<tr class="separator:aa3b7af271e5db34cb7fb48b777ceed92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac3f7a7a1a93a8f416bf8e266b6a2d063"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; PublicKeyImpl &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ac3f7a7a1a93a8f416bf8e266b6a2d063">m_public_key</a></td></tr>
<tr class="memdesc:ac3f7a7a1a93a8f416bf8e266b6a2d063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains a unique pointer to the public key implementation.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ac3f7a7a1a93a8f416bf8e266b6a2d063">More...</a><br /></td></tr>
<tr class="separator:ac3f7a7a1a93a8f416bf8e266b6a2d063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a61aa8a79bf7061d66fb3f3bb989f07"><td class="memItemLeft" align="right" valign="top"><a id="a5a61aa8a79bf7061d66fb3f3bb989f07"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a5a61aa8a79bf7061d66fb3f3bb989f07">m_scheme</a></td></tr>
<tr class="memdesc:a5a61aa8a79bf7061d66fb3f3bb989f07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains a <em>padding scheme with hash function</em> in the case of <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> with RSA (PKCS1 v1.5), otherwise contains a <em>hash function</em>. <br /></td></tr>
<tr class="separator:a5a61aa8a79bf7061d66fb3f3bb989f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac6f072e2a9cb54d4f41acee1c15c974e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; PrivateKeyImpl &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ac6f072e2a9cb54d4f41acee1c15c974e">m_private_key</a></td></tr>
<tr class="memdesc:ac6f072e2a9cb54d4f41acee1c15c974e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains a unique pointer to the private key implementation.  <a href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ac6f072e2a9cb54d4f41acee1c15c974e">More...</a><br /></td></tr>
<tr class="separator:ac6f072e2a9cb54d4f41acee1c15c974e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class PrivateKeyImpl, class PublicKeyImpl, class SubKeyImpl = PublicKeyImpl&gt;<br />
class dotsig::OpenPGP::Identity&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;</h3>

<p>Template class for <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> identities that consist of a private/public keypair which may be generated using one of: RSA, DSA, <a class="el" href="namespacedotsig_1_1_e_c_d_s_a.html" title="Namespace that contains the ECDSA identities class template.">ECDSA</a> and EdDSA. </p>
<p>This template class accepts three template parameters with PrivateKeyImpl, PublicKeyImpl and SubKeyImpl. Importantly, the current implementation of the copy constructor makes it so that these template parameters must be compatible with Botan's pk_keys.h format. Method implementations must be provided by these classes for the methods: algorithm_identifier, private_key_bits and public_key_bits, as found in Botan::Private_Key and Botan::Public_Key.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> standard defines compatibility with multiple digital signature algorithms including: RSA (PKCS1 v1.5) [default], DSA, <a class="el" href="namespacedotsig_1_1_e_c_d_s_a.html" title="Namespace that contains the ECDSA identities class template.">ECDSA</a>, EdDSA.</dd>
<dd>
Also, the <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> standard is different from basic <a class="el" href="namespacedotsig_1_1_e_c_d_s_a.html" title="Namespace that contains the ECDSA identities class template.">ECDSA</a> and <a class="el" href="namespacedotsig_1_1_p_k_c_s.html" title="Namespace that contains the PKCS identities class template.">PKCS</a> implementations because it uses a concept of armored messages and keys. Yet, the actual raw signatures produced using <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> identities <em>do not differ</em> from signatures created using the <a class="el" href="classdotsig_1_1_p_k_c_s_1_1_identity.html" title="Class template for PKCS (RSA) identities that consist of a keypair.">PKCS::Identity</a> and <a class="el" href="classdotsig_1_1_e_c_d_s_a_1_1_identity.html" title="Class for ECDSA identities that consist of a keypair.">ECDSA::Identity</a> classes.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PrivateKeyImpl</td><td>The private key implementation class. </td></tr>
    <tr><td class="paramname">PublicKeyImpl</td><td>The public key implementation class. </td></tr>
    <tr><td class="paramname">SubKeyImpl</td><td>The sub (child) key implementation class.</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd><p class="startdd">Implement sub-keys as defined by the <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> standard. </p>
<p class="interdd">Implement expiration logic and signature/keys revocation strategies. </p>
<p class="enddd">Diverge from original PKA implementations by usage of <b>subkeys</b>. </p>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdotsig_1_1_i_identity.html" title="Interface for identities that consist of a private/public keypair.">dotsig::IIdentity</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="openpgp_8h_source.html#l00085">85</a> of file <a class="el" href="openpgp_8h_source.html">openpgp.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa0494d8e4e5ab52b12f595771887bdee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0494d8e4e5ab52b12f595771887bdee">&#9670;&nbsp;</a></span>Identity()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl, class PublicKeyImpl, class SubKeyImpl = PublicKeyImpl&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::<a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">Identity</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>scheme</em> = <code>&quot;PKCS1v15(SHA-256)&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. Creates an empty <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> identity. </p>
<p>This method accepts a string-typed <em>scheme</em> that further defines the algorithm used during signatures creation and verification. A parameter is necessary here because <a class="el" href="namespacedotsig_1_1_open_p_g_p.html" title="Namespace that contains the OpenPGP identity classes (and templates).">OpenPGP</a> provides multiple compatible DSA types.</p>
<dl class="section note"><dt>Note</dt><dd>The created identity does not have a private key, make sure to use one of GenerateRandom or Import to populate it.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scheme</td><td>The padding scheme with hash function OR only a hash function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a5a61aa8a79bf7061d66fb3f3bb989f07" title="Contains a padding scheme with hash function in the case of OpenPGP with RSA (PKCS1 v1....">m_scheme</a> </dd>
<dd>
<a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#aa3b7af271e5db34cb7fb48b777ceed92" title="Generates a random pair of private- and public-key.">GenerateRandom</a> </dd>
<dd>
<a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a64cb49082aceb3df2e099887c85abb1f" title="Creates an identity with file filename and pass passphrase.">Import</a> </dd>
<dd>
<a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ae1c8c705f4f34188e302d59114167917" title="Saves an identity to file filename with password passphrase.">Export</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="openpgp_8h_source.html#l00116">116</a> of file <a class="el" href="openpgp_8h_source.html">openpgp.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae1c8c705f4f34188e302d59114167917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c8c705f4f34188e302d59114167917">&#9670;&nbsp;</a></span>Export()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl , class PublicKeyImpl , class SubKeyImpl &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::Export </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>passphrase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves an identity to file <em>filename</em> with password <em>passphrase</em>. </p>
<dl class="section note"><dt>Note</dt><dd>A public key file will also be created at {filename}.pub. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The filesystem path where the identity file will be stored. </td></tr>
    <tr><td class="paramname">passphrase</td><td>A passphrase to encrypt the identity file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#aa3b7af271e5db34cb7fb48b777ceed92" title="Generates a random pair of private- and public-key.">GenerateRandom</a> </dd>
<dd>
<a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a64cb49082aceb3df2e099887c85abb1f" title="Creates an identity with file filename and pass passphrase.">Import</a> </dd></dl>

<p>Implements <a class="el" href="classdotsig_1_1_i_identity.html#a8776d09cbb2097ea53db2c4d834b8684">dotsig::IIdentity</a>.</p>

<p class="definition">Definition at line <a class="el" href="openpgp_8cpp_source.html#l00105">105</a> of file <a class="el" href="openpgp_8cpp_source.html">openpgp.cpp</a>.</p>

</div>
</div>
<a id="a64cb49082aceb3df2e099887c85abb1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64cb49082aceb3df2e099887c85abb1f">&#9670;&nbsp;</a></span>Import()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl , class PublicKeyImpl , class SubKeyImpl &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt; &amp; <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::Import </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>passphrase</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates an identity with file <em>filename</em> and pass <em>passphrase</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The complete filesystem path to an encrypted identity file. </td></tr>
    <tr><td class="paramname">passphrase</td><td>A passphrase to decrypt the encrypted identity file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>*this </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#aa3b7af271e5db34cb7fb48b777ceed92" title="Generates a random pair of private- and public-key.">GenerateRandom</a> </dd>
<dd>
<a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#ae1c8c705f4f34188e302d59114167917" title="Saves an identity to file filename with password passphrase.">Export</a> </dd></dl>

<p>Implements <a class="el" href="classdotsig_1_1_i_identity.html#a43a8ef207d7ddb36fe034eeab478e3dd">dotsig::IIdentity</a>.</p>

<p class="definition">Definition at line <a class="el" href="openpgp_8cpp_source.html#l00052">52</a> of file <a class="el" href="openpgp_8cpp_source.html">openpgp.cpp</a>.</p>

</div>
</div>
<a id="a0d1db8363ff162244104e482295f44d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d1db8363ff162244104e482295f44d0">&#9670;&nbsp;</a></span>Sign()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl , class PublicKeyImpl , class SubKeyImpl &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::Sign </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>sig_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Signs a message <em>message</em> and saves the signature to <em>sig_file</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The complete message for which a digital signature is created. </td></tr>
    <tr><td class="paramname">sig_file</td><td>The filesystem path where the signature file will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a1c1d443dde02c6503fc91541bc596e8a" title="Verifies a signature signature for a message message.">Verify</a> </dd></dl>

<p>Implements <a class="el" href="classdotsig_1_1_i_identity.html#a700b35f268be138b72fde2973bbaae2a">dotsig::IIdentity</a>.</p>

<p class="definition">Definition at line <a class="el" href="openpgp_8cpp_source.html#l00133">133</a> of file <a class="el" href="openpgp_8cpp_source.html">openpgp.cpp</a>.</p>

</div>
</div>
<a id="a1c1d443dde02c6503fc91541bc596e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c1d443dde02c6503fc91541bc596e8a">&#9670;&nbsp;</a></span>Verify()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl , class PublicKeyImpl , class SubKeyImpl &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::Verify </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Verifies a signature <em>signature</em> for a message <em>message</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signature</td><td>The signature bytes, as stored in a signature file (not hex!). </td></tr>
    <tr><td class="paramname">message</td><td>The complete message for which a digital signature is verified. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html#a0d1db8363ff162244104e482295f44d0" title="Signs a message message and saves the signature to sig_file.">Sign</a> </dd></dl>

<p>Implements <a class="el" href="classdotsig_1_1_i_identity.html#aec8a8cbf752da842c51bcff3a00b8902">dotsig::IIdentity</a>.</p>

<p class="definition">Definition at line <a class="el" href="openpgp_8cpp_source.html#l00159">159</a> of file <a class="el" href="openpgp_8cpp_source.html">openpgp.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac6f072e2a9cb54d4f41acee1c15c974e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6f072e2a9cb54d4f41acee1c15c974e">&#9670;&nbsp;</a></span>m_private_key</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl, class PublicKeyImpl, class SubKeyImpl = PublicKeyImpl&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;PrivateKeyImpl&gt; <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::m_private_key</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Contains a unique pointer to the private key implementation. </p>
<dl class="section note"><dt>Note</dt><dd>This member variable is wiped-out ("zero'd") by the destructor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="openpgp_8h_source.html#l00091">91</a> of file <a class="el" href="openpgp_8h_source.html">openpgp.h</a>.</p>

</div>
</div>
<a id="ac3f7a7a1a93a8f416bf8e266b6a2d063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3f7a7a1a93a8f416bf8e266b6a2d063">&#9670;&nbsp;</a></span>m_public_key</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class PrivateKeyImpl, class PublicKeyImpl, class SubKeyImpl = PublicKeyImpl&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;PublicKeyImpl&gt; <a class="el" href="classdotsig_1_1_open_p_g_p_1_1_identity.html">dotsig::OpenPGP::Identity</a>&lt; PrivateKeyImpl, PublicKeyImpl, SubKeyImpl &gt;::m_public_key</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Contains a unique pointer to the public key implementation. </p>
<dl class="section note"><dt>Note</dt><dd>This member variable is wiped-out ("zero'd") by the destructor. </dd></dl>

<p class="definition">Definition at line <a class="el" href="openpgp_8h_source.html#l00096">96</a> of file <a class="el" href="openpgp_8h_source.html">openpgp.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="openpgp_8h_source.html">openpgp.h</a></li>
<li>src/<a class="el" href="openpgp_8cpp_source.html">openpgp.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
